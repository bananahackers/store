!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.locI18next=e()}(this,function(){"use strict";var t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e={selectorAttr:"data-i18n",targetAttr:"i18n-target",optionsAttr:"i18n-options",useOptionsAttr:!1,parseDefaultValueFromContent:!0,document:document};return{init:function(n){function r(t,e,r){var i="text";if(0==e.indexOf("[")){var o=e.split("]");e=o[1],i=o[0].substr(1,o[0].length-1)}if(e=e.indexOf(";")==e.length-1?e.substr(0,e.length-2):e,"html"===i)t.innerHTML=n.t(e,l(r,t.innerHTML));else if("text"===i)t.textContent=n.t(e,l(r,t.textContent));else if("prepend"===i){var u=t.innerHTML.indexOf("<loc-i18n>"),s=t.innerHTML.indexOf("</loc-i18n>")+11;u>-1&&s>6&&(t.innerHTML=[t.innerHTML.substring(0,u),t.innerHTML.slice(s)].join("")),t.innerHTML=["<loc-i18n>",n.t(e,l(r,t.innerHTML)),"</loc-i18n>",t.innerHTML].join("")}else if("append"===i){var c=t.innerHTML.indexOf("<loc-i18n>"),a=t.innerHTML.indexOf("</loc-i18n>")+11;c>-1&&a>6&&(t.innerHTML=[t.innerHTML.substring(0,c),t.innerHTML.slice(a)].join("")),t.innerHTML=[t.innerHTML,"<loc-i18n>",n.t(e,l(r,t.innerHTML),"</loc-i18n>")].join("")}else if(0===i.indexOf("data-")){var f=i.substr(5),p=n.t(e,l(r,t.getAttribute(f)));t.setAttribute(f,p),t.setAttribute(i,p)}else t.setAttribute(i,n.t(e,l(r,t.getAttribute(i))))}function i(e,n){var i=e.getAttribute(o.selectorAttr);if(i){var l=e,u=e.getAttribute(o.targetAttr);if(null!=u&&(l=e.querySelector(u)||e),n||!0!==o.useOptionsAttr||(n=function(t){return JSON.parse(t.replace(/:\s*"([^"]*)"/g,function(t,e){return': "'+e.replace(/:/g,"@colon@")+'"'}).replace(/:\s*'([^']*)'/g,function(t,e){return': "'+e.replace(/:/g,"@colon@")+'"'}).replace(/(['"])?([a-z0-9A-Z_]+)(['"])?\s*:/g,'"$2": ').replace(/@colon@/g,":"))}(e.getAttribute(o.optionsAttr)||"{}")),n=n||{},i.indexOf(";")>=0)for(var s=i.split(";"),c=0,a=s.length;c<a;c++)""!=s[c]&&r(l,s[c],n);else r(l,i,n);if(!0===o.useOptionsAttr){var f={};delete(f=t({clone:f},n)).lng,e.setAttribute(o.optionsAttr,JSON.stringify(f))}}}var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o=t({},e,o);var l=function(e,n){return o.parseDefaultValueFromContent?t({},e,{defaultValue:n}):e};return function(t,e){for(var n=o.document.querySelectorAll(t),r=0;r<n.length;r++){for(var l=n[r],u=l.querySelectorAll("["+o.selectorAttr+"]"),s=u.length-1;s>-1;s--)i(u[s],e);i(l,e)}}}}});