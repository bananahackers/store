class StoreDatabaseAPI{constructor(){this.data={}}loadData(){var e=this;return new Promise((function(r,t){var a=new Worker("assets/js/index/workers/store-worker.js");a.onmessage=function(t){a.terminate(),e.data=t.data,r(t.data)},a.onerror=function(e){t(e)},a.postMessage(null)}))}getAppsByCategory(e){if(e in this.data.categories)return this.data.apps.categorical[e];throw new TypeError('Category "'+e+'" does not exist!')}sortApps(e,r){return new Promise((function(t,a){var s=new Worker("assets/js/index/workers/sort-worker.js");switch(s.onmessage=function(e){s.terminate(),t(e.data.apps)},s.onerror=function(e){a(e)},r){case"alphabetical":case"popularity":case"categorical":s.postMessage({apps:e,sort:r});break;default:console.warn("[StoreDb] Unable to sort, returning unsorted apps."),t(e)}}))}}