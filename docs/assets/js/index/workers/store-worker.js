const stores=["https://banana-hackers.gitlab.io/store-db/data.json","https://bananahackers.github.io/data.json"],stats=["https://bhackers.uber.space/ssr/v1/"];onmessage=function(){var e={categories:{},apps:[],downloads:{},generated_at:void 0};function s(){e.categories={},e.apps=[]}for(var t of stores){var a=new XMLHttpRequest;if(a.open("GET",t,!1),a.setRequestHeader("Content-Type","application/json"),a.send(),a.status>=200&&a.status<300)try{var r=JSON.parse(a.responseText);r.categories&&(e.categories=r.categories),r.apps&&(e.apps=r.apps),r.generated_at&&(e.generated_at=r.generated_at);break}catch(e){console.error("[Store Worker] Error parsing response from store: "+e),s()}else console.error("[Store Worker] Error making request to store: "+a.status),s()}postMessage(e)};